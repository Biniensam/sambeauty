(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{4911:function(e,r,a){Promise.resolve().then(a.bind(a,4950)),Promise.resolve().then(a.bind(a,2435)),Promise.resolve().then(a.bind(a,8349)),Promise.resolve().then(a.bind(a,9774)),Promise.resolve().then(a.bind(a,3608))},2435:function(e,r,a){"use strict";var t=a(7437),s=a(2265),d=a(9376),l=a(2449),i=a(2660),n=a(6163),o=a(6943),c=a(7088),m=a(5953),u=a(7812),x=a(2510);r.default=e=>{var r,a,g;let{onBack:y}=e,{state:b,clearCart:h}=(0,n.j)(),{t:p}=(0,o.Z)(),f=(0,d.useRouter)(),{showSuccess:N,showError:k}=(0,u.l)(),{user:v,isSignedIn:j}=(0,x.aF)(),w=new URLSearchParams(window.location.search).get("edit"),C=!!w,[P,A]=(0,s.useState)({customerName:"",phoneNumber:"",email:"",street:"",city:"",region:"",postalCode:"",paymentMethod:"cash_on_delivery"}),[E,F]=(0,s.useState)(!1);(0,s.useEffect)(()=>{var e;j&&v&&A(e=>{var r;return{...e,customerName:v.fullName||v.firstName||"",email:(null===(r=v.primaryEmailAddress)||void 0===r?void 0:r.emailAddress)||""}}),C&&w&&console.log("Editing order:",w),j&&(null==v?void 0:null===(e=v.primaryEmailAddress)||void 0===e?void 0:e.emailAddress)&&(async()=>{try{var e;let r=null===(e=v.primaryEmailAddress)||void 0===e?void 0:e.emailAddress;if(r){let e=await m.Ew.getOrdersByEmail(r);if(e.success&&e.data&&e.data.length>0){let r=e.data[0];r.shippingAddress&&A(e=>({...e,street:r.shippingAddress.street||"",city:r.shippingAddress.city||"",region:r.shippingAddress.region||""}))}}}catch(e){console.log("Could not fetch previous order data:",e)}})()},[j,v,C,w]);let S=b.total<2e3?500:0,q=b.total+S,_=e=>{let{name:r,value:a}=e.target;A(e=>({...e,[r]:a}))},M=async e=>{if(e.preventDefault(),!P.customerName.trim()||!P.phoneNumber.trim()||!P.street.trim()||!P.city.trim()||!P.region.trim()){k("Please fill in all required fields");return}F(!0);try{let e={customerInfo:{fullName:P.customerName.trim(),phoneNumber:P.phoneNumber.trim(),email:P.email.trim()},items:b.items.map(e=>({product:e.id,productName:e.name,brand:e.brand,price:e.price,quantity:e.quantity,image:e.image})),shippingAddress:{fullName:P.customerName.trim(),phoneNumber:P.phoneNumber.trim(),street:P.street.trim(),city:P.city.trim(),region:P.region.trim(),country:"Ethiopia",postalCode:P.postalCode.trim()},shippingCost:S,notes:"Order placed from website",paymentMethod:P.paymentMethod,customerId:j&&(null==v?void 0:v.id)||"guest"},t=await m.Ew.submitCheckout(e);if(t.success){var r,a;let e=C?"Order updated successfully! Order #".concat((null===(r=t.data)||void 0===r?void 0:r.orderNumber)||"N/A"):"Order placed successfully! Order #".concat((null===(a=t.data)||void 0===a?void 0:a.orderNumber)||"N/A");N(e),C||setTimeout(()=>{h()},3e3),setTimeout(()=>{f.push("/account")},3e3)}else k(t.message||"An error occurred during checkout. Please try again.")}catch(e){k("Network error. Please check your connection and try again.")}finally{F(!1)}};return 0===b.items.length?(0,t.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen py-12",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(l.Z,{size:64,className:"text-gray-300 dark:text-gray-700 mx-auto mb-6"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Your cart is empty"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Add items to your cart to proceed with checkout"}),(0,t.jsxs)("button",{onClick:()=>f.push("/"),className:"btn-primary inline-flex items-center gap-2",children:[(0,t.jsx)(i.Z,{size:20}),p("continueShopping")]})]})})}):(0,t.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen py-6 sm:py-12",children:(0,t.jsxs)("div",{className:"container-responsive",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("button",{onClick:()=>{y?y():f.push("/cart")},className:"inline-flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 mb-4",children:[(0,t.jsx)(i.Z,{size:20}),"Back to Cart"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:C?"Edit Order":p("checkout")}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:C?"Update your order information":"Complete your order"}),C&&(0,t.jsx)("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["\uD83D\uDCDD You are editing order #",w,". Your customer information has been pre-filled."]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Customer Information"})}),(0,t.jsxs)("form",{onSubmit:M,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Full Name *",j&&(null==v?void 0:v.fullName)&&(0,t.jsx)("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:"(Auto-filled from your account)"})]}),(0,t.jsx)("input",{type:"text",id:"customerName",name:"customerName",value:P.customerName,onChange:_,placeholder:p("enterYourFullName"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beauty-pink focus:border-transparent dark:bg-gray-800 dark:text-gray-100 disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed",required:!0,disabled:j&&!!(null==v?void 0:v.fullName),title:j&&(null==v?void 0:v.fullName)?"This field is auto-filled from your account and cannot be edited":""})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[p("phoneNumber")," *"]}),(0,t.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:P.phoneNumber,onChange:_,placeholder:p("enterYourPhoneNumber"),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beauty-pink focus:border-transparent dark:bg-gray-800 dark:text-gray-100",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"email",className:"block text-gray-700 dark:text-gray-300 mb-2",children:["Email",j&&(null==v?void 0:null===(r=v.primaryEmailAddress)||void 0===r?void 0:r.emailAddress)&&(0,t.jsx)("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:"(Auto-filled from your account)"})]}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:P.email,onChange:_,placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beauty-pink focus:border-transparent dark:bg-gray-800 dark:text-gray-100 disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed",disabled:j&&!!(null==v?void 0:null===(a=v.primaryEmailAddress)||void 0===a?void 0:a.emailAddress),title:j&&(null==v?void 0:null===(g=v.primaryEmailAddress)||void 0===g?void 0:g.emailAddress)?"This field is auto-filled from your account and cannot be edited":""})]}),(0,t.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsx)("h3",{className:"text-md font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Shipping Information"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Street Address *",j&&P.street&&(0,t.jsx)("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(Pre-filled from previous order)"})]}),(0,t.jsx)("input",{type:"text",id:"street",name:"street",value:P.street,onChange:_,placeholder:"Enter your street address",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beauty-pink focus:border-transparent dark:bg-gray-800 dark:text-gray-100",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["City *",j&&P.city&&(0,t.jsx)("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(Pre-filled from previous order)"})]}),(0,t.jsx)("input",{type:"text",id:"city",name:"city",value:P.city,onChange:_,placeholder:"Enter your city",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beauty-pink focus:border-transparent dark:bg-gray-800 dark:text-gray-100",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"region",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Region *",j&&P.region&&(0,t.jsx)("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(Pre-filled from previous order)"})]}),(0,t.jsx)("input",{type:"text",id:"region",name:"region",value:P.region,onChange:_,placeholder:"Enter your region",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beauty-pink focus:border-transparent dark:bg-gray-800 dark:text-gray-100",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postal Code"}),(0,t.jsx)("input",{type:"text",id:"postalCode",name:"postalCode",value:P.postalCode,onChange:_,placeholder:"Enter your postal code",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beauty-pink focus:border-transparent dark:bg-gray-800 dark:text-gray-100"})]}),(0,t.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsx)("h3",{className:"text-md font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Payment Information"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"paymentMethod",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method *"}),(0,t.jsxs)("select",{id:"paymentMethod",name:"paymentMethod",value:P.paymentMethod,onChange:_,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-beauty-pink focus:border-transparent dark:bg-gray-800 dark:text-gray-100",required:!0,children:[(0,t.jsx)("option",{value:"cash_on_delivery",children:"Cash on Delivery"}),(0,t.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,t.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,t.jsx)("option",{value:"card",children:"Credit/Debit Card"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:E,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Processing...":C?"Update Order":"Place Order"})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"card p-6 sticky top-24",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:p("orderSummary")}),(0,t.jsx)("div",{className:"space-y-4 mb-6",children:b.items.map(e=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("img",{src:(0,c.C6)(e.image),alt:e.name,className:"w-16 h-16 object-cover rounded-lg"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.brand}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[p("quantity"),": ",e.quantity]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:p("birr",{price:(e.price*e.quantity).toFixed(2)})})})]},e.id))}),(0,t.jsxs)("div",{className:"space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[p("subtotal")," (",b.itemCount," ",p("items"),")"]}),(0,t.jsx)("span",{className:"font-medium",children:p("birr",{price:b.total.toFixed(2)})})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:p("shipping")}),(0,t.jsx)("span",{className:"font-medium ".concat(S>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:S>0?p("birr",{price:S.toFixed(2)}):"Free"})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:(0,t.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,t.jsx)("span",{children:p("total")}),(0,t.jsx)("span",{children:p("birr",{price:q.toFixed(2)})})]})})]}),(0,t.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"Secure checkout"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:p("authenticProducts")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:p("returnPolicy")})]})]})})]})})]})]})})}},7812:function(e,r,a){"use strict";a.d(r,{NotificationProvider:function(){return i},l:function(){return l}});var t=a(7437),s=a(2265);let d=(0,s.createContext)(void 0),l=()=>{let e=(0,s.useContext)(d);if(void 0===e)throw Error("useNotification must be used within a NotificationProvider");return e},i=e=>{let{children:r}=e,[a,l]=(0,s.useState)([]),i=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),n=(0,s.useCallback)(e=>{l(r=>r.filter(r=>r.id!==e))},[]),o=(0,s.useCallback)(e=>{var r;let a=i(),t=null!==(r=e.duration)&&void 0!==r?r:5e3,s={...e,id:a,duration:t};l(e=>[...e,s]),t>0&&setTimeout(()=>{n(a)},t)},[n]),c=(0,s.useCallback)((e,r)=>{o({type:"success",message:e,duration:r})},[o]),m=(0,s.useCallback)((e,r)=>{o({type:"error",message:e,duration:r})},[o]),u=(0,s.useCallback)((e,r)=>{o({type:"warning",message:e,duration:r})},[o]),x=(0,s.useCallback)((e,r)=>{o({type:"info",message:e,duration:r})},[o]),g=(0,s.useCallback)(()=>{l([])},[]);return(0,t.jsx)(d.Provider,{value:{notifications:a,showNotification:o,showSuccess:c,showError:m,showWarning:u,showInfo:x,removeNotification:n,clearAll:g},children:r})}},3608:function(e,r,a){"use strict";a.d(r,{default:function(){return i}});var t=a(7437);a(2265);var s=a(2711),d=a(6430),l=a(5863);function i(e){let{children:r,fallback:a}=e,{isLoaded:i,isSignedIn:n}=(0,s.y)();return i?n?(0,t.jsx)(t.Fragment,{children:r}):a?(0,t.jsx)(t.Fragment,{children:a}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Sign In Required"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Please sign in to access this page"})]}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:(0,t.jsx)(d.SignIn,{appearance:{elements:{formButtonPrimary:"bg-pink-600 hover:bg-pink-700 text-white",card:"bg-transparent shadow-none",headerTitle:"text-gray-900 dark:text-gray-100",headerSubtitle:"text-gray-600 dark:text-gray-400"}}})})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(l.Z,{className:"h-8 w-8 animate-spin text-pink-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})})}}},function(e){e.O(0,[216,623,671,950,744],function(){return e(e.s=4911)}),_N_E=e.O()}]);