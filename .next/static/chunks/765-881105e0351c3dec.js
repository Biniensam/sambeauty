"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[765],{9765:function(e,s,t){t.d(s,{Z:function(){return f}});var a=t(7437),i=t(2265),r=t(8997),l=t(2208),n=t(2449),c=t(6595),d=t(7648),o=t(6163),x=t(2729),m=t(2489),h=t(1047),u=t(9397),g=t(6943),p=t(7088),b=t(5953),j=e=>{let{product:s,isOpen:t,onClose:l}=e,{addItem:j}=(0,o.j)(),{addFavorite:f,removeFavorite:y,isFavorite:N}=(0,x.r)(),{t:v}=(0,g.Z)(),[w,k]=i.useState(1),[C,F]=i.useState(null),[z,Z]=i.useState(!1);if(i.useEffect(()=>{t&&s&&!C&&(async()=>{Z(!0);try{let e=await (0,b.gk)(s.id);e.success&&e.data&&F(e.data)}catch(e){console.error("Error fetching product details:",e)}finally{Z(!1)}})()},[t,s,C]),i.useEffect(()=>{t||(F(null),Z(!1))},[t]),!s||!t)return null;let S=e=>{e>=1&&k(e)};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:l}),(0,a.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:(0,a.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:s.name}),(0,a.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":v("close"),children:(0,a.jsx)(m.Z,{size:24})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:(0,p.C6)(s.image),alt:s.name,className:"w-full h-96 object-cover rounded-lg"}),(0,a.jsx)("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:s.isNew&&(0,a.jsx)("span",{className:"bg-beauty-pink text-white text-xs font-medium px-2 py-1 rounded-full",children:v("new")})}),(0,a.jsx)("button",{onClick:()=>{N(s.id)?y(s.id):f({id:s.id,name:s.name,brand:s.brand,price:s.price,image:(0,p.C6)(s.image)})},className:"absolute top-4 right-4 p-2 rounded-full shadow-lg transition-colors ".concat(N(s.id)?"bg-red-500 text-white":"bg-white text-gray-700 hover:text-red-500"),"aria-label":v(N(s.id)?"removeFromFavorites":"addToFavorites"),children:(0,a.jsx)(r.Z,{size:20,fill:N(s.id)?"currentColor":"none"})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:s.brand}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:s.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(c.Z,{size:16,className:"".concat(t<Math.floor(s.rating)?"text-beauty-gold fill-current":"text-gray-300")},t))}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[s.rating," (",s.reviewCount," ",v("reviews"),")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:v("birr",{price:s.price.toFixed(2)})}),s.originalPrice&&s.originalPrice>s.price&&(0,a.jsx)("span",{className:"text-lg text-gray-500 line-through",children:v("birr",{price:s.originalPrice.toFixed(2)})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:v("quantity")}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>S(w-1),className:"p-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:w<=1,"aria-label":v("decreaseQuantity"),children:(0,a.jsx)(h.Z,{size:16})}),(0,a.jsx)("span",{className:"w-12 text-center font-medium",children:w}),(0,a.jsx)("button",{onClick:()=>S(w+1),className:"p-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors","aria-label":v("increaseQuantity"),children:(0,a.jsx)(u.Z,{size:16})})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>{j({id:s.id,name:s.name,brand:s.brand,price:s.price,image:(0,p.C6)(s.image)}),l()},className:"w-full btn-primary flex items-center justify-center gap-2 py-3",children:[(0,a.jsx)(n.Z,{size:20}),v("addToBag",{totalPrice:(s.price*w).toFixed(2)})]}),(0,a.jsx)(d.default,{href:"/product/".concat(s.id),children:(0,a.jsx)("button",{onClick:l,className:"w-full btn-secondary py-3",children:v("viewFullDetails")})})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:v("productDescription")}),z?(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]}):(null==C?void 0:C.description)?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:C.description}),C.benefits&&C.benefits.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium text-gray-900 text-sm mb-1",children:"Key Benefits:"}),(0,a.jsx)("ul",{className:"text-gray-600 text-sm space-y-1",children:C.benefits.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-beauty-pink mr-2",children:"â€¢"}),e]},s))})]}),C.ingredients&&C.ingredients.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium text-gray-900 text-sm mb-1",children:"Key Ingredients:"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:C.ingredients.join(", ")})]}),C.size&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-medium text-gray-900 text-sm mb-1",children:"Size:"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:C.size})]})]}):(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:v("experienceLuxuryQuality",{brand:s.brand})})]})]})]})]})})]})})},f=e=>{let{id:s,name:t,brand:m,price:h,originalPrice:u,image:b,rating:f,reviewCount:y,isNew:N=!1,isSale:v=!1,discount:w,description:k,size:C,skinType:F,benefits:z,inStock:Z,category:S,productType:E,skinTone:O,finish:P,skinConcern:q,ingredients:M,hairType:T,hairConcern:W,hairTexture:_,fragranceFamily:B,concentration:L,season:Q,crueltyFree:A,vegan:D,luxury:J,cleanBeauty:K,dermatologistRecommended:I,salonProfessional:R,heatProtection:U,longLasting:V,isTrending:G,broadSpectrum:H}=e,[X,Y]=(0,i.useState)(!1),[$,ee]=(0,i.useState)(!1),{addItem:es}=(0,o.j)(),{addFavorite:et,removeFavorite:ea,isFavorite:ei}=(0,x.r)(),{t:er}=(0,g.Z)(),el=()=>{if(!(s.startsWith("sk")||s.startsWith("mk")||s.startsWith("hr")||s.startsWith("pf")))return"/product/".concat(s);{let e=Object.fromEntries(Object.entries({id:s,name:t,brand:m,price:h,originalPrice:u,image:b,rating:f,reviewCount:y,isNew:N,isSale:v,discount:w,description:k,size:C,skinType:F,benefits:z,inStock:Z,category:S,productType:E,skinTone:O,finish:P,skinConcern:q,ingredients:M,hairType:T,hairConcern:W,hairTexture:_,fragranceFamily:B,concentration:L,season:Q,crueltyFree:A,vegan:D,luxury:J,cleanBeauty:K,dermatologistRecommended:I,salonProfessional:R,heatProtection:U,longLasting:V,isTrending:G,broadSpectrum:H}).filter(e=>{let[s,t]=e;return void 0!==t})),a=new URLSearchParams;return Object.entries(e).forEach(e=>{let[s,t]=e;Array.isArray(t)?a.set(s,JSON.stringify(t)):"object"==typeof t?a.set(s,JSON.stringify(t)):a.set(s,String(t))}),"/product/".concat(s,"?").concat(a.toString())}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"product-card   group",onMouseEnter:()=>Y(!0),onMouseLeave:()=>Y(!1),children:[(0,a.jsxs)("div",{className:"relative aspect-square md:aspect-square overflow-hidden rounded-t-lg bg-gray-100",children:[(0,a.jsx)(d.default,{href:el(),children:(0,a.jsx)("img",{src:(0,p.C6)(b),alt:t,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105 cursor-pointer",loading:"lazy",onError:e=>{e.target.src="https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400&h=400&fit=crop"}})}),(0,a.jsx)("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:N&&(0,a.jsx)("span",{className:"bg-beauty-pink text-white text-xs font-medium px-2 py-1 rounded-full",children:er("new")})}),(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col gap-2 transition-all duration-300 ".concat(X?"opacity-100 translate-x-0":"opacity-0 translate-x-2"),children:[(0,a.jsx)("button",{onClick:()=>{ei(s)?ea(s):et({id:s,name:t,brand:m,price:h,image:b})},className:"p-2 rounded-full shadow-lg transition-colors ".concat(ei(s)?"bg-red-500 text-white":"bg-white text-gray-700 hover:text-red-500"),"aria-label":er(ei(s)?"removeFromFavorites":"addToFavorites"),children:(0,a.jsx)(r.Z,{size:16,fill:ei(s)?"currentColor":"none"})}),(0,a.jsx)("button",{onClick:()=>{ee(!0)},className:"p-2 bg-white rounded-full shadow-lg text-gray-700 hover:text-primary-600 transition-colors","aria-label":er("quickView"),children:(0,a.jsx)(l.Z,{size:16})})]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm p-4 transition-all duration-300 ".concat(X?"translate-y-0":"translate-y-full"),children:(0,a.jsxs)("button",{onClick:()=>{es({id:s,name:t,brand:m,price:h,image:b})},className:"w-full btn-primary flex items-center justify-center gap-2",children:[(0,a.jsx)(n.Z,{size:16}),er("addToBag",{totalPrice:h%1==0?h.toFixed(0):h.toFixed(2)})]})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)(d.default,{href:el(),className:"block group",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:m}),(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-600 transition-colors cursor-pointer",children:t})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-2",children:[(0,a.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(c.Z,{size:14,className:"".concat(s<Math.floor(f)?"text-beauty-gold fill-current":"text-gray-300")},s))}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",y," ",er("reviews"),")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-bold text-blue-900",children:er("birr",{price:h%1==0?h.toFixed(0):h.toFixed(2)})}),u&&u>h&&(0,a.jsx)("span",{className:"text-sm text-gray-500 line-through",children:er("birr",{price:u%1==0?u.toFixed(0):u.toFixed(2)})})]})]})]}),(0,a.jsx)(j,{product:{id:s,name:t,brand:m,price:h,originalPrice:u,image:b,rating:f,reviewCount:y,isNew:N,isSale:v,discount:w},isOpen:$,onClose:()=>ee(!1)})]})}}}]);