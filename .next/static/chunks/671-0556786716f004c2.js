"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{8349:function(e,t,r){var a=r(7437);r(2265);var s=r(9219),o=r(2351),n=r(7760),i=r(4767),l=r(3774),c=r(3041),d=r(9345),u=r(7648),g=r(6943);t.default=()=>{let{t:e}=(0,g.Z)();return(0,a.jsx)("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-100 dark:border-gray-800 mt-8 sm:mt-12",children:(0,a.jsxs)("div",{className:"container-responsive py-6 sm:py-8 lg:py-12",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 lg:gap-12",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,a.jsxs)(u.default,{href:"/",className:"flex items-center space-x-2 min-w-0",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-pink-500 transition-transform duration-300 hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2C10.343 2 9 3.343 9 5c0 1.657 3 7 3 7s3-5.343 3-7c0-1.657-1.343-3-3-3zM7 21h10a2 2 0 002-2v-1a2 2 0 00-2-2H7a2 2 0 00-2 2v1a2 2 0 002 2z"})}),(0,a.jsx)("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-serif font-extrabold text-pink-600 truncate select-none bg-gradient-to-r from-pink-600 via-pink-400 to-pink-600 bg-clip-text text-transparent",children:"SamBeauty"})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm max-w-xs",children:e("footerDescription")}),(0,a.jsxs)("div",{className:"flex gap-2 sm:gap-3 mt-2",children:[(0,a.jsx)("a",{href:"#","aria-label":"Facebook",className:"text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:(0,a.jsx)(s.Z,{size:18,className:"sm:w-5 sm:h-5"})}),(0,a.jsx)("a",{href:"#","aria-label":"Twitter",className:"text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:(0,a.jsx)(o.Z,{size:18,className:"sm:w-5 sm:h-5"})}),(0,a.jsx)("a",{href:"#","aria-label":"Instagram",className:"text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:(0,a.jsx)(n.Z,{size:18,className:"sm:w-5 sm:h-5"})}),(0,a.jsx)("a",{href:"#","aria-label":"YouTube",className:"text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:(0,a.jsx)(i.Z,{size:18,className:"sm:w-5 sm:h-5"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 sm:gap-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2 sm:mb-3 text-sm sm:text-base",children:e("footerShopTitle")}),(0,a.jsx)(u.default,{href:"/skin-care",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-xs sm:text-sm transition-colors",children:e("footerSkinCare")}),(0,a.jsx)(u.default,{href:"/makeup",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-xs sm:text-sm transition-colors",children:e("footerMakeUp")}),(0,a.jsx)(u.default,{href:"/hair",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-xs sm:text-sm transition-colors",children:e("footerHair")}),(0,a.jsx)(u.default,{href:"/perfume",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-xs sm:text-sm transition-colors",children:e("footerFragrance")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 sm:gap-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2 sm:mb-3 text-sm sm:text-base",children:e("footerCustomerServiceTitle")}),(0,a.jsx)(u.default,{href:"/account",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-xs sm:text-sm transition-colors",children:e("footerMyAccount")}),(0,a.jsx)(u.default,{href:"/account",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-xs sm:text-sm transition-colors",children:e("footerOrderTracking")}),(0,a.jsx)(u.default,{href:"/contact",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 text-xs sm:text-sm transition-colors",children:e("footerContactUs")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2 sm:mb-3 text-sm sm:text-base",children:e("footerStayConnectedTitle")}),(0,a.jsxs)("form",{className:"flex flex-col gap-2",onSubmit:e=>{e.preventDefault();let t=e.currentTarget.message.value;t.trim()&&window.open("https://t.me/sambeauty_support?text=".concat(encodeURIComponent(t)),"_blank")},children:[(0,a.jsx)("textarea",{name:"message",placeholder:"Send us a message on Telegram...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 resize-none"}),(0,a.jsx)("button",{type:"submit",className:"btn-primary px-3 py-2 text-xs sm:text-sm w-full sm:w-auto",children:"Send on Telegram"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(l.Z,{size:16,className:"mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"leading-relaxed",children:"Office Number 402, Soliana Commercial Center, Lideta, Addis Ababa Ethiopia"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{size:14,className:"flex-shrink-0"}),(0,a.jsx)("span",{children:"+251970057408"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{size:14,className:"flex-shrink-0"}),(0,a.jsx)("span",{children:"support@sambeauty.com"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),(0,a.jsx)("a",{href:"https://t.me/sambeauty_support",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors",children:"@sambeauty_support"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2 flex-wrap",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/fr/6/6e/CBESA.png",alt:"CBE",className:"h-8 sm:h-9 lg:h-10 object-contain"})}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/a/a4/Telebirr.png",alt:"Telebirr",className:"h-8 sm:h-9 lg:h-10 object-contain"})})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 sm:mt-8 text-center text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:["\xa9 ",new Date().getFullYear()," ",e("footerCopyright"),". ",e("footerAllRightsReserved")]})]})})}},9774:function(e,t,r){r.d(t,{default:function(){return k}});var a=r(7437),s=r(2265),o=r(3247),n=r(8997),i=r(2449),l=r(2489),c=r(7648),d=r(9376),u=r(6163),g=r(2729),m=r(7226),h=r(5929),p=r(5849),x=r(6943),f=()=>{let{theme:e,toggleTheme:t}=(0,p.F)(),[r,o]=(0,s.useState)(!1),{t:n}=(0,x.Z)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{t(),o(!0),setTimeout(()=>o(!1),1200)},className:"inline-flex items-center justify-center w-9 h-9 rounded-full border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none","aria-label":n("toggleTheme"),tabIndex:0,children:"light"===e?(0,a.jsx)(m.Z,{size:18,className:"text-gray-700"}):(0,a.jsx)(h.Z,{size:18,className:"text-yellow-400"})}),r&&(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 z-40 bg-gradient-to-r from-primary-500 to-beauty-pink h-1 animate-slideDown",children:(0,a.jsx)("div",{className:"h-full bg-white/20 animate-pulse"})})]})},y=r(171),v=r(7088),b=e=>{let{query:t,isVisible:r,onClose:s,onSelectSuggestion:n}=e,{suggestions:i,loading:d}=(0,y.fb)(t,5),{t:u}=(0,x.Z)();return r&&t.trim()&&!(t.length<2)?(0,a.jsx)("div",{className:"absolute top-full left-0 right-0 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-b-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:d?u("searchingFor"):"".concat(i.length," suggestions")}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,a.jsx)(l.Z,{size:16})})]}),d&&(0,a.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-2",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-md animate-pulse"}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-2/3"}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-1/3"})]})]},t))}),!d&&0===i.length&&(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(o.Z,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u("noResultsFound")})]}),!d&&i.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[i.map(e=>{var t,r;return console.log("Product image data:",{name:e.name,imageType:typeof e.image,imageLength:null===(t=e.image)||void 0===t?void 0:t.length,imageStart:null===(r=e.image)||void 0===r?void 0:r.substring(0,50),isBase64:e.image&&!e.image.startsWith("http")&&!e.image.startsWith("data:")}),(0,a.jsxs)(c.default,{href:"/product/".concat(e._id),onClick:()=>n(e.name),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("img",{src:(0,v.C6)(e.image),alt:e.name,className:"w-12 h-12 object-cover rounded-md",loading:"lazy",onError:e=>{e.target.src="https://images.unsplash.com/photo-1556228720-195a672e8a03?w=48&h=48&fit=crop"}})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.brand}),(0,a.jsxs)("p",{className:"text-xs font-medium text-pink-600 dark:text-pink-400",children:[e.price," Birr"]})]})]},e._id)}),(0,a.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)(c.default,{href:"/search?q=".concat(encodeURIComponent(t)),onClick:()=>n(t),className:"flex items-center justify-center w-full px-3 py-2 text-sm font-medium text-pink-600 dark:text-pink-400 hover:bg-pink-50 dark:hover:bg-pink-900/20 rounded-md transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),'View all results "',t,'"']})})]})]})}):null},w=r(2783),k=()=>{let[e,t]=(0,s.useState)(!1),[r,m]=(0,s.useState)(""),[h,p]=(0,s.useState)(!1),y=(0,s.useRef)(null),v=(0,d.useRouter)(),{state:k}=(0,u.j)(),{state:j}=(0,g.r)(),{t:N}=(0,x.Z)();(0,s.useEffect)(()=>{let e=e=>{y.current&&!y.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let C=e=>{e.preventDefault(),r.trim()&&(t(!1),p(!1),v.push("/search?q=".concat(encodeURIComponent(r.trim()))))},P=[N("brands"),N("newTrending"),N("Perfume"),N("skinCare"),N("makeUp"),N("hair")],S={[N("brands")]:"Brands",[N("skinCare")]:"Skin Care",[N("makeUp")]:"Make Up",[N("hair")]:"Hair",[N("Perfume")]:"Perfume",[N("newTrending")]:"New & Trending"},A=e=>{let t=S[e]||e;switch(t){case"Brands":return"/brands";case"Skin Care":return"/skin-care";case"Make Up":return"/makeup";case"Hair":return"/hair";case"Perfume":return"/perfume";case"New & Trending":return"/new-trending";default:return"/category/".concat(t.toLowerCase().replace(/\s+/g,"-"))}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("header",{className:"bg-white dark:bg-gray-900 shadow-sm sticky top-0 z-50",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 text-white text-center py-1.5 text-xs sm:text-xs font-medium tracking-wider shadow-sm select-none",children:(0,a.jsx)("p",{className:"truncate",children:N("headerBanner")})}),(0,a.jsxs)("div",{className:"container-responsive",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)(c.default,{href:"/",className:"flex items-center space-x-2 min-w-0",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 sm:h-8 sm:w-8 text-pink-500 transition-transform duration-300 hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2C10.343 2 9 3.343 9 5c0 1.657 3 7 3 7s3-5.343 3-7c0-1.657-1.343-3-3-3zM7 21h10a2 2 0 002-2v-1a2 2 0 00-2-2H7a2 2 0 00-2 2v1a2 2 0 002 2z"})}),(0,a.jsx)("h1",{className:"text-lg sm:text-3xl font-serif font-extrabold text-pink-600 truncate select-none bg-gradient-to-r from-pink-600 via-pink-400 to-pink-600 bg-clip-text text-transparent",children:"SamBeauty"})]}),(0,a.jsx)("nav",{className:"hidden lg:flex space-x-4 xl:space-x-8",children:P.slice(0,6).map(e=>(0,a.jsx)(c.default,{href:A(e),className:"text-gray-700 dark:text-gray-100 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors whitespace-nowrap",children:e},e))}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(f,{}),(0,a.jsx)("button",{className:"relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none",onClick:()=>t(!e),"aria-label":e?"Close search":"Open search",children:(0,a.jsx)(o.Z,{className:"text-gray-500 dark:text-gray-300",size:22})}),(0,a.jsx)(x.W,{}),(0,a.jsxs)(c.default,{href:"/wishlist",className:"hidden lg:block relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none transition-colors",children:[(0,a.jsx)(n.Z,{size:20,className:"text-gray-700 dark:text-gray-100",fill:j.items.length>0?"currentColor":"none"}),j.items.length>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:j.items.length})]}),(0,a.jsxs)(c.default,{href:"/cart",className:"hidden md:block p-2 text-gray-700 dark:text-gray-100 hover:text-primary-600 dark:hover:text-primary-400 transition-colors relative",children:[(0,a.jsx)(i.Z,{size:20}),k.itemCount>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:k.itemCount})]}),(0,a.jsx)(w.Z,{variant:"header"})]})]}),e&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-20 px-4",children:(0,a.jsxs)("div",{ref:y,className:"relative w-full max-w-3xl",children:[(0,a.jsxs)("form",{onSubmit:C,className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,a.jsx)("input",{type:"text",placeholder:N("searchPlaceholder"),value:r,onChange:e=>{let t=e.target.value;m(t),p(t.length>=2)},onKeyPress:e=>{"Enter"===e.key&&C(e)},className:"w-full pl-10 pr-12 py-3 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",autoFocus:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>{t(!1),p(!1)},"aria-label":"Close search",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:(0,a.jsx)(l.Z,{size:20})})]}),(0,a.jsx)(b,{query:r,isVisible:h,onClose:()=>p(!1),onSelectSuggestion:e=>{m(e),p(!1),t(!1),v.push("/search?q=".concat(encodeURIComponent(e)))}})]})})]})]})})}},2783:function(e,t,r){r.d(t,{Z:function(){return d}});var a=r(7437);r(2265);var s=r(9663),o=r(2369),n=r(7692),i=r(9090),l=r(2510),c=r(7648);function d(e){var t,r,d;let{variant:u="header"}=e,{isSignedIn:g,user:m}=(0,l.aF)(),h=null==m?void 0:null===(t=m.externalAccounts)||void 0===t?void 0:t.some(e=>"google"===e.provider),p=()=>{if(h){var e;let t=null==m?void 0:null===(e=m.externalAccounts)||void 0===e?void 0:e.find(e=>"google"===e.provider),r=null==t?void 0:t.imageUrl;if(r)return(0,a.jsx)("img",{src:r,alt:"Profile",className:"w-8 h-8 rounded-full object-cover border-2 border-gray-200 dark:border-gray-700"})}return(0,a.jsx)(s.Z,{size:20,className:"text-pink-600 dark:text-pink-400"})};return"header"===u?(0,a.jsx)("div",{className:"hidden lg:block",children:g?(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("button",{className:"p-2 text-gray-700 dark:text-gray-100 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:p()}),(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[(0,a.jsxs)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(null==m?void 0:m.firstName)||(null==m?void 0:null===(r=m.emailAddresses[0])||void 0===r?void 0:r.emailAddress)}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:null==m?void 0:null===(d=m.emailAddresses[0])||void 0===d?void 0:d.emailAddress}),h&&(0,a.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Google Account"})]}),(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsxs)(c.default,{href:"/account",className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",children:[(0,a.jsx)(o.Z,{size:16}),"Account"]}),(0,a.jsx)(l.AM,{children:(0,a.jsxs)("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",children:[(0,a.jsx)(n.Z,{size:16}),"Sign Out"]})})]})]})]}):(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("button",{className:"p-2 text-gray-700 dark:text-gray-100 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:(0,a.jsx)(i.Z,{size:20})}),(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[(0,a.jsxs)("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Welcome Guest"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sign in or create an account"})]}),(0,a.jsxs)("div",{className:"p-2 space-y-2",children:[(0,a.jsx)(l.$d,{mode:"modal",children:(0,a.jsxs)("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",children:[(0,a.jsx)(i.Z,{size:16}),"Sign In"]})}),(0,a.jsx)(l.gX,{mode:"modal",children:(0,a.jsxs)("button",{className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",children:[(0,a.jsx)(o.Z,{size:16}),"Sign Up"]})})]})]})]})}):(0,a.jsx)("div",{className:"lg:hidden",children:g?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[p(),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(null==m?void 0:m.firstName)||"Account"})]}):(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(l.$d,{mode:"modal",children:(0,a.jsxs)("button",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-100 hover:text-pink-600 dark:hover:text-pink-400 transition-colors",children:[(0,a.jsx)(i.Z,{size:20}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Sign In"})]})}),(0,a.jsx)(l.gX,{mode:"modal",children:(0,a.jsxs)("button",{className:"flex items-center gap-2 text-pink-600 dark:text-pink-400 hover:text-pink-700 dark:hover:text-pink-300 transition-colors",children:[(0,a.jsx)(o.Z,{size:20}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Sign Up"})]})})]})})}},171:function(e,t,r){r.d(t,{D3:function(){return m},Hn:function(){return u},Iy:function(){return p},LG:function(){return c},MY:function(){return y},Nh:function(){return g},Nn:function(){return b},_w:function(){return n},fb:function(){return f},gU:function(){return d},rn:function(){return i},ym:function(){return l}});var a=r(2265),s=r(5953),o=r(7088);let n=e=>{let[t,r]=(0,a.useState)({}),[s,n]=(0,a.useState)([]);return(0,a.useEffect)(()=>{if(!e){r({}),n([]);return}let t=e.images||[e.image].filter(Boolean),a={};t.forEach((e,r)=>{a[r]={loading:!0,error:!1,loaded:!1,urls:(0,o.zk)(t[r])}}),r(a),(async()=>{try{let e=t.map(e=>(0,o.zk)(e).medium),a=await (0,o.ab)(e);n(a),a.forEach((e,a)=>{a<t.length&&r(e=>({...e,[a]:{...e[a],loading:!1,loaded:!0,error:!1}}))})}catch(e){console.error("Failed to preload images:",e)}})()},[e]),{imageStates:t,preloadedImages:s,validateProductImages:(0,a.useCallback)(async()=>{if(!e)return[];let t=e.images||[e.image].filter(Boolean);return await Promise.all(t.map(async(e,t)=>({index:t,...await (0,o.ap)(e)})))},[e])}},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,a.useState)({products:[],loading:!0,error:null}),[o,n]=(0,a.useState)(e),i=(0,a.useCallback)(async()=>{r(e=>({...e,loading:!0,error:null}));try{let e=await s.Ew.getProducts(o);e.success&&e.data?r({products:e.data,loading:!1,error:null,pagination:e.pagination}):r({products:[],loading:!1,error:e.message||"Failed to fetch products"})}catch(e){r({products:[],loading:!1,error:e instanceof Error?e.message:"An error occurred"})}},[o]);(0,a.useEffect)(()=>{i()},[i]);let l=(0,a.useCallback)(()=>i(),[i]);return{...t,refetch:l,setFilters:n}},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,[t,r]=(0,a.useState)({products:[],loading:!0,error:null});return(0,a.useEffect)(()=>{(async()=>{r(e=>({...e,loading:!0,error:null}));try{let t=await s.Ew.getFeaturedProducts(e);t.success&&t.data?r({products:t.data,loading:!1,error:null}):r({products:[],loading:!1,error:t.message||"Failed to fetch featured products"})}catch(e){r({products:[],loading:!1,error:e instanceof Error?e.message:"An error occurred"})}})()},[e]),t},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,[t,r]=(0,a.useState)({products:[],loading:!0,error:null});return(0,a.useEffect)(()=>{(async()=>{r(e=>({...e,loading:!0,error:null}));try{let t=await s.Ew.getNewArrivals(e);t.success&&t.data?r({products:t.data,loading:!1,error:null}):r({products:[],loading:!1,error:t.message||"Failed to fetch new arrivals"})}catch(e){r({products:[],loading:!1,error:e instanceof Error?e.message:"An error occurred"})}})()},[e]),t},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,[t,r]=(0,a.useState)({products:[],loading:!0,error:null});return(0,a.useEffect)(()=>{(async()=>{r(e=>({...e,loading:!0,error:null}));try{let t=await s.Ew.getBestSellers(e);t.success&&t.data?r({products:t.data,loading:!1,error:null}):r({products:[],loading:!1,error:t.message||"Failed to fetch best sellers"})}catch(e){r({products:[],loading:!1,error:e instanceof Error?e.message:"An error occurred"})}})()},[e]),t},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,[t,r]=(0,a.useState)({products:[],loading:!0,error:null});return(0,a.useEffect)(()=>{(async()=>{r(e=>({...e,loading:!0,error:null}));try{let t=await s.Ew.getSaleProducts(e);t.success&&t.data?r({products:t.data,loading:!1,error:null}):r({products:[],loading:!1,error:t.message||"Failed to fetch sale products"})}catch(e){r({products:[],loading:!1,error:e instanceof Error?e.message:"An error occurred"})}})()},[e]),t},g=e=>{let[t,r]=(0,a.useState)({product:null,loading:!0,error:null});return(0,a.useEffect)(()=>{if(!e){r({product:null,loading:!1,error:"Product ID is required"});return}(async()=>{r(e=>({...e,loading:!0,error:null}));try{console.log("Fetching product with ID: ".concat(e));let t=await s.Ew.getProductById(e);t.success&&t.data?(console.log("Product fetched successfully:",t.data),r({product:t.data,loading:!1,error:null})):(console.error("Failed to fetch product:",t.message),r({product:null,loading:!1,error:t.message||"Failed to fetch product"}))}catch(e){console.error("Error in useProductById:",e),r({product:null,loading:!1,error:e instanceof Error?e.message:"An error occurred"})}})()},[e]),t},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,[r,o]=(0,a.useState)({products:[],loading:!0,error:null});return(0,a.useEffect)(()=>{if(!e){o({products:[],loading:!1,error:"Product ID is required"});return}(async()=>{o(e=>({...e,loading:!0,error:null}));try{let r=await s.Ew.getProductById(e);if(!r.success||!r.data)throw Error("Failed to fetch current product");let a=r.data,{brand:n,category:i}=a;if(!n||!i){let r=await s.Ew.getRelatedProducts(e,t);r.success&&r.data?o({products:r.data,loading:!1,error:null}):o({products:[],loading:!1,error:r.message||"Failed to fetch related products"});return}let l=await s.Ew.getRelatedProductsByBrandAndCategory(n,i,e,t);if(console.log("Related products by brand (".concat(n,") and category (").concat(i,"):"),l),!l.success||!l.data||0===l.data.length){let e=await h(a,t);if(e.length>0){o({products:e,loading:!1,error:null});return}}l.success&&l.data?o({products:l.data,loading:!1,error:null}):o({products:[],loading:!1,error:l.message||"Failed to fetch related products"})}catch(r){try{let r=await s.Ew.getProductById(e);if(r.success&&r.data){let e=await h(r.data,t);if(e.length>0){o({products:e,loading:!1,error:null});return}}}catch(e){console.error("Local fallback also failed:",e)}o({products:[],loading:!1,error:r instanceof Error?r.message:"An error occurred"})}})()},[e,t]),r},h=async(e,t)=>{try{let r=await s.Ew.getProducts({limit:100});if(!r.success||!r.data)return[];let a=r.data,{brand:o,category:n,_id:i}=e,l=a.filter(e=>e._id!==i&&e.brand===o&&e.category===n);if(l.length<t){let e=a.filter(e=>e._id!==i&&e.brand===o&&!l.some(t=>t._id===e._id));l=[...l,...e]}if(l.length<t){let e=a.filter(e=>e._id!==i&&e.category===n&&!l.some(t=>t._id===e._id));l=[...l,...e]}return l.slice(0,t)}catch(e){return console.error("Error finding local related products:",e),[]}},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[r,o]=(0,a.useState)({products:[],loading:!1,error:null}),n=(0,a.useCallback)(()=>t,[JSON.stringify(t)]);return(0,a.useEffect)(()=>{if(!e.trim()){o({products:[],loading:!1,error:null});return}let t=!0,r=async()=>{if(t){console.log("Searching for:",e),o(e=>({...e,loading:!0,error:null}));try{let r=await s.Ew.searchProducts(e,n());if(!t)return;if(r.success&&r.data)console.log("Search results from API:",r.data.length,"products"),o({products:r.data,loading:!1,error:null,pagination:r.pagination});else{console.warn("API search failed, falling back to local search");let r=x(e);t&&(console.log("Local search results:",r.length,"products"),o({products:r,loading:!1,error:null}))}}catch(a){if(!t)return;console.warn("API search error, falling back to local search:",a);let r=x(e);console.log("Local search results after error:",r.length,"products"),o({products:r,loading:!1,error:null})}}},a=setTimeout(()=>{r()},300);return()=>{t=!1,clearTimeout(a)}},[e,n]),r},x=e=>{let{searchProducts:t}=r(3990);return t(e)},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,[r,o]=(0,a.useState)([]),[n,i]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!e.trim()||e.length<2){o([]);return}let r=!0,a=async()=>{if(r){console.log("Fetching suggestions for:",e),i(!0);try{let a=await s.Ew.searchProducts(e,{limit:t});if(!r)return;if(a.success&&a.data)console.log("Suggestions from API:",a.data.length,"products"),o(a.data);else{let a=x(e).slice(0,t);r&&(console.log("Local suggestions:",a.length,"products"),o(a))}}catch(s){if(!r)return;let a=x(e).slice(0,t);console.log("Local suggestions after error:",a.length,"products"),o(a)}finally{r&&i(!1)}}},n=setTimeout(()=>{a()},200);return()=>{r=!1,clearTimeout(n)}},[e,t]),{suggestions:r,loading:n}},y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,a.useState)({products:[],loading:!0,error:null}),o=(0,a.useCallback)(()=>e,[JSON.stringify(e)]);return(0,a.useEffect)(()=>{let t=!0;return(async()=>{if(t){console.log("Fetching filtered products with filters:",e),r(e=>({...e,loading:!0,error:null}));try{let a=await s.Ew.getProducts(o());if(!t)return;if(a.success&&a.data)console.log("Filtered products from API:",a.data.length,"products"),r({products:a.data,loading:!1,error:null,pagination:a.pagination});else{console.warn("API filtering failed, falling back to local filtering");let a=v(e);t&&(console.log("Local filtered results:",a.length,"products"),r({products:a,loading:!1,error:null}))}}catch(s){if(!t)return;console.warn("API filtering error, falling back to local filtering:",s);let a=v(e);console.log("Local filtered results after error:",a.length,"products"),r({products:a,loading:!1,error:null})}}})(),()=>{t=!1}},[o]),t},v=e=>{let{allProducts:t}=r(3990),a=[...t];if(e.search){let t=e.search.toLowerCase().trim();a=a.filter(e=>[e.name,e.brand,e.category,e.description,...e.benefits||[],...e.ingredients||[],...e.skinConcern||[],...e.hairConcern||[],e.fragranceFamily,e.concentration,e.season].filter(e=>!!e).map(e=>e.toLowerCase()).some(e=>e.includes(t)))}return e.category&&(a=a.filter(t=>{var r,a,s,o;return(null===(r=t.category)||void 0===r?void 0:r.toLowerCase())===(null===(a=e.category)||void 0===a?void 0:a.toLowerCase())||(null===(s=t.productType)||void 0===s?void 0:s.toLowerCase())===(null===(o=e.category)||void 0===o?void 0:o.toLowerCase())})),e.brand&&(a=a.filter(t=>{var r;return t.brand.toLowerCase()===(null===(r=e.brand)||void 0===r?void 0:r.toLowerCase())})),void 0!==e.minPrice&&(a=a.filter(t=>t.price>=e.minPrice)),void 0!==e.maxPrice&&(a=a.filter(t=>t.price<=e.maxPrice)),void 0!==e.inStock&&(a=a.filter(t=>t.inStock===e.inStock)),e.skinType&&(a=a.filter(t=>(Array.isArray(t.skinType)?t.skinType:[t.skinType]).some(t=>{var r;return t.toLowerCase()===(null===(r=e.skinType)||void 0===r?void 0:r.toLowerCase())}))),e.hairType&&(a=a.filter(t=>(Array.isArray(t.hairType)?t.hairType:[t.hairType]).some(t=>{var r;return t.toLowerCase()===(null===(r=e.hairType)||void 0===r?void 0:r.toLowerCase())}))),void 0!==e.crueltyFree&&(a=a.filter(t=>t.crueltyFree===e.crueltyFree)),void 0!==e.vegan&&(a=a.filter(t=>t.vegan===e.vegan)),void 0!==e.luxury&&(a=a.filter(t=>t.luxury===e.luxury)),void 0!==e.cleanBeauty&&(a=a.filter(t=>t.cleanBeauty===e.cleanBeauty)),a},b=()=>{let[e,t]=(0,a.useState)({brandsByCategory:[],loading:!0,error:null});return(0,a.useEffect)(()=>{(async()=>{t(e=>({...e,loading:!0,error:null}));try{var e,r,a,o;console.log("Fetching products from database to extract brand data...");let[n,i,l,c]=await Promise.all([s.Ew.getFeaturedProducts(100),s.Ew.getNewArrivals(100),s.Ew.getBestSellers(100),s.Ew.getSaleProducts(100)]);console.log("API Responses:",{featured:{success:n.success,count:(null===(e=n.data)||void 0===e?void 0:e.length)||0},newArrivals:{success:i.success,count:(null===(r=i.data)||void 0===r?void 0:r.length)||0},bestSellers:{success:l.success,count:(null===(a=l.data)||void 0===a?void 0:a.length)||0},sale:{success:c.success,count:(null===(o=c.data)||void 0===o?void 0:o.length)||0}});let d=[...n.success&&n.data||[],...i.success&&i.data||[],...l.success&&l.data||[],...c.success&&c.data||[]].filter((e,t,r)=>t===r.findIndex(t=>t._id===e._id));if(console.log("Combined products from database:",d.length),d.length>0){console.log("Processing products data to extract brands...");let e=k(d);console.log("Extracted brands data:",e),t({brandsByCategory:e,loading:!1,error:null})}else{console.warn("No products from specific endpoints, trying general products API...");try{let e=await s.Ew.getProducts({limit:200});if(e.success&&e.data&&e.data.length>0){console.log("Fallback products found:",e.data.length);let r=k(e.data);t({brandsByCategory:r,loading:!1,error:null})}else console.warn("No products found in database from any endpoint"),t({brandsByCategory:[],loading:!1,error:"No products available in database"})}catch(e){console.error("Fallback API also failed:",e),t({brandsByCategory:[],loading:!1,error:"No products available in database"})}}}catch(e){console.error("Products API error:",e),t({brandsByCategory:[],loading:!1,error:"Failed to connect to database"})}})()},[]),e},w=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString(),k=e=>{let t=new Map;return e.forEach(e=>{if(!e._id)return;let r=e.category||e.productType||"Other",a=e.brand;if(!a)return;t.has(r)||t.set(r,new Map);let s=t.get(r);s.has(a)||s.set(a,{name:a,rating:0,followers:"0",isNew:!1,isSale:!1,isTrending:!1,isPopular:!1,productCount:0,totalRating:0,totalReviews:0,image:e.image,totalPrice:0,minPrice:e.price||0,maxPrice:e.price||0,hasDiscount:!1,luxuryBrand:!1,cleanBeauty:!1,crueltyFree:!1,vegan:!1});let o=s.get(a);o.productCount++,o.totalRating+=e.rating||0,o.totalReviews+=e.reviewCount||0,o.totalPrice+=e.price||0,e.price&&(o.minPrice=Math.min(o.minPrice,e.price),o.maxPrice=Math.max(o.maxPrice,e.price)),e.isNew&&(o.isNew=!0),(e.isSale||e.discount)&&(o.isSale=!0),e.isTrending&&(o.isTrending=!0),e.discount&&(o.hasDiscount=!0),e.luxury&&(o.luxuryBrand=!0),e.cleanBeauty&&(o.cleanBeauty=!0),e.crueltyFree&&(o.crueltyFree=!0),e.vegan&&(o.vegan=!0),(o.productCount>=3||e.rating&&e.rating>=4.5)&&(o.isPopular=!0),!o.image&&e.image&&(o.image=e.image)}),Array.from(t.entries()).map(e=>{let[t,r]=e;return{category:t,brands:Array.from(r.values()).map(e=>({name:e.name,rating:e.totalReviews>0?Math.round(e.totalRating/e.totalReviews*10)/10:0,followers:w(e.totalReviews),isNew:e.isNew,isSale:e.isSale,isTrending:e.isTrending,isPopular:e.isPopular,productCount:e.productCount,image:e.image,averagePrice:e.productCount>0?Math.round(e.totalPrice/e.productCount):0,priceRange:e.minPrice!==e.maxPrice?"".concat(e.minPrice," - ").concat(e.maxPrice):e.minPrice.toString(),hasDiscount:e.hasDiscount,luxuryBrand:e.luxuryBrand,cleanBeauty:e.cleanBeauty,crueltyFree:e.crueltyFree,vegan:e.vegan})).sort((e,t)=>t.rating-e.rating)}})}},5953:function(e,t,r){r.d(t,{Ew:function(){return s},gk:function(){return d}});class a{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(this.baseUrl).concat(e),a={headers:{"Content-Type":"application/json"},...t};try{console.log("Making API request to: ".concat(r));let e=await fetch(r,a);if(!e.ok)throw console.error("API request failed with status: ".concat(e.status)),Error("HTTP error! status: ".concat(e.status));let t=await e.json();return console.log("API request successful:",t),t}catch(e){return console.error("API request failed:",e),{success:!1,message:e instanceof Error?e.message:"Network error occurred",data:void 0}}}async getProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,a]=e;null!=a&&""!==a&&t.append(r,a.toString())}),this.request("/products?".concat(t.toString()))}async getFeaturedProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return this.request("/products/featured?limit=".concat(e))}async getNewArrivals(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return this.request("/products/new-arrivals?limit=".concat(e))}async getBestSellers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return this.request("/products/best-sellers?limit=".concat(e))}async getSaleProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return this.request("/products/on-sale?limit=".concat(e))}async getProductById(e){console.log("Fetching product by ID: ".concat(e));let t=await this.request("/products/".concat(e));return console.log("Product fetch result:",t),t}async getRelatedProducts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return this.request("/products/".concat(e,"/related?limit=").concat(t))}async getRelatedProductsByBrandAndCategory(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,s=new URLSearchParams;return s.append("brand",e),s.append("category",t),s.append("exclude",r),s.append("limit",a.toString()),this.request("/products/related/brand-category?".concat(s.toString()))}async getRelatedProductsByBrand(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=new URLSearchParams;return a.append("brand",e),a.append("exclude",t),a.append("limit",r.toString()),this.request("/products/related/brand?".concat(a.toString()))}async getRelatedProductsByCategory(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=new URLSearchParams;return a.append("category",e),a.append("exclude",t),a.append("limit",r.toString()),this.request("/products/related/category?".concat(a.toString()))}async getCategories(){return this.request("/products/categories")}async getBrands(){return this.request("/products/brands")}async searchProducts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getProducts({...t,search:e})}async submitCheckout(e){try{console.log("Submitting checkout data:",e);let t={...e,paymentMethod:e.paymentMethod||"cash_on_delivery"},r=await this.request("/public/orders",{method:"POST",body:JSON.stringify(t)});if(console.log("Checkout response:",r),r.success&&r.data)return{success:!0,message:r.message,data:r.data};return{success:!1,message:r.message||"Checkout failed",data:void 0}}catch(e){return console.error("Checkout submission error:",e),{success:!1,message:e instanceof Error?e.message:"Failed to submit checkout",data:void 0}}}async getOrdersByContactInfo(e,t,r){try{let a=await this.request("/orders");if(a.success&&a.data){let s=a.data.filter(a=>{var s,o,n;let i=(null===(s=a.shippingAddress)||void 0===s?void 0:s.fullName)||"",l=(null===(o=a.shippingAddress)||void 0===o?void 0:o.phoneNumber)||"",c=a.customerEmail||(null===(n=a.customerInfo)||void 0===n?void 0:n.email)||"",d=!1,u=!1,g=!1;if(e&&i){let t=e.toLowerCase().trim(),r=i.toLowerCase().trim();d=t===r||t.includes(r)||r.includes(t)}if(t&&l){let e=t.replace(/\D/g,""),r=l.replace(/\D/g,"");u=e===r||e.endsWith(r)||r.endsWith(e)}return g=r&&c?r.toLowerCase().trim()===c.toLowerCase().trim():!r&&!c,[d,u,g].filter(Boolean).length>=2});console.log("\uD83D\uDD0D Found ".concat(s.length," orders matching user criteria out of ").concat(a.data.length," total orders"));let o=s.map(e=>{var t,r,a,s,o,n,i,l,c;return{_id:e._id,orderNumber:e.orderNumber,date:e.createdAt,items:(null===(t=e.items)||void 0===t?void 0:t.length)||0,total:e.totalAmount,status:e.status,products:(null===(r=e.items)||void 0===r?void 0:r.map(e=>{var t,r;return{name:(null===(t=e.productSnapshot)||void 0===t?void 0:t.name)||e.productName||"Unknown Product",image:(null===(r=e.productSnapshot)||void 0===r?void 0:r.image)||e.image||"https://via.placeholder.com/150",quantity:e.quantity,price:e.price}}))||[],customerId:e.customerId||"",shippingAddress:{street:(null===(a=e.shippingAddress)||void 0===a?void 0:a.street)||"",city:(null===(s=e.shippingAddress)||void 0===s?void 0:s.city)||"",region:(null===(o=e.shippingAddress)||void 0===o?void 0:o.region)||"",country:(null===(n=e.shippingAddress)||void 0===n?void 0:n.country)||"",postalCode:(null===(i=e.shippingAddress)||void 0===i?void 0:i.postalCode)||"",fullName:(null===(l=e.shippingAddress)||void 0===l?void 0:l.fullName)||"",phoneNumber:(null===(c=e.shippingAddress)||void 0===c?void 0:c.phoneNumber)||""},paymentMethod:e.paymentMethod||"unknown"}});return{success:!0,message:"Found ".concat(o.length," orders for you"),data:o}}return{success:!1,message:"No orders found",data:[]}}catch(e){return console.error("Error fetching orders by contact info:",e),{success:!1,message:e instanceof Error?e.message:"Failed to fetch orders",data:[]}}}async getOrdersByEmail(e){try{if(!e)return{success:!1,message:"Email address is required",data:[]};let t=await this.request("/orders");if(t.success&&t.data){let r=t.data.filter(t=>{var r;return(t.customerEmail||(null===(r=t.customerInfo)||void 0===r?void 0:r.email)||"").toLowerCase().trim()===e.toLowerCase().trim()});console.log("\uD83D\uDD0D Found ".concat(r.length," orders matching email ").concat(e," out of ").concat(t.data.length," total orders"));let a=r.map(e=>{var t,r,a,s,o,n,i,l,c;return{_id:e._id,orderNumber:e.orderNumber,date:e.createdAt,items:(null===(t=e.items)||void 0===t?void 0:t.length)||0,total:e.totalAmount,status:e.status,products:(null===(r=e.items)||void 0===r?void 0:r.map(e=>{var t,r;return{name:(null===(t=e.productSnapshot)||void 0===t?void 0:t.name)||e.productName||"Unknown Product",image:(null===(r=e.productSnapshot)||void 0===r?void 0:r.image)||e.image||"https://via.placeholder.com/150",quantity:e.quantity,price:e.price}}))||[],customerId:e.customerId||"",shippingAddress:{street:(null===(a=e.shippingAddress)||void 0===a?void 0:a.street)||"",city:(null===(s=e.shippingAddress)||void 0===s?void 0:s.city)||"",region:(null===(o=e.shippingAddress)||void 0===o?void 0:o.region)||"",country:(null===(n=e.shippingAddress)||void 0===n?void 0:n.country)||"",postalCode:(null===(i=e.shippingAddress)||void 0===i?void 0:i.postalCode)||"",fullName:(null===(l=e.shippingAddress)||void 0===l?void 0:l.fullName)||"",phoneNumber:(null===(c=e.shippingAddress)||void 0===c?void 0:c.phoneNumber)||""},paymentMethod:e.paymentMethod||"unknown"}});return{success:!0,message:"Found ".concat(a.length," orders for email ").concat(e),data:a}}return{success:!1,message:"No orders found",data:[]}}catch(e){return console.error("Error fetching orders by email:",e),{success:!1,message:e instanceof Error?e.message:"Failed to fetch orders",data:[]}}}constructor(){this.baseUrl="https://back-cosmo.vercel.app"}}let s=new a,{getProducts:o,getFeaturedProducts:n,getNewArrivals:i,getBestSellers:l,getSaleProducts:c,getProductById:d,getRelatedProducts:u,getRelatedProductsByBrandAndCategory:g,getRelatedProductsByBrand:m,getRelatedProductsByCategory:h,getCategories:p,getBrands:x,searchProducts:f,submitCheckout:y,getOrdersByContactInfo:v,getOrdersByEmail:b}=s},3990:function(e,t,r){r.r(t),r.d(t,{allProducts:function(){return a},getProductById:function(){return o},getProductsByCategory:function(){return n},searchProducts:function(){return s}});let a=[],s=e=>[],o=e=>{},n=e=>[]},7088:function(e,t,r){r.d(t,{C6:function(){return n},ab:function(){return c},ap:function(){return g},zk:function(){return d}});let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg";if(!e)return"";if(e.startsWith("data:"))return e;let r=s(e)||t;return"data:".concat(r,";base64,").concat(e)},s=e=>{if(!e||e.length<4)return null;try{let t=atob(e.substring(0,8)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let a=Array.from(r.slice(0,4)).map(e=>e.toString(16).padStart(2,"0")).join("").toUpperCase();if(a.startsWith("89504E47"))return"image/png";if(a.startsWith("FFD8FF"))return"image/jpeg";if(a.startsWith("47494638"))return"image/gif";if(a.startsWith("52494646"))return"image/webp";return null}catch(e){return null}},o=e=>{if(!e||"string"!=typeof e)return!1;let t=e.trim();if(!/^[A-Za-z0-9+/]*={0,2}$/.test(t)||t.length%4!=0)return!1;try{return btoa(atob(t))===t}catch(e){return!1}},n=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:o(e)?(console.log("Converting Base64 image to data URL"),a(e)):e.startsWith("data:")?(console.log("Image is already a data URL"),e):(console.log("Image data type:",typeof e,"Length:",e.length,"Starts with:",e.substring(0,50)),"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=400&h=400&fit=crop"):"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=400&h=400&fit=crop",i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:80;if(!e)return n("");if(e.startsWith("data:")||o(e))return e;if(e.includes("unsplash.com")){let s=e.includes("?")?"&":"?";return"".concat(e).concat(s,"w=").concat(t,"&h=").concat(r,"&fit=crop&q=").concat(a)}if(e.includes("cloudinary.com")){let s=e.split("/upload/")[0],o=e.split("/upload/")[1];return"".concat(s,"/upload/c_fill,w_").concat(t,",h_").concat(r,",q_").concat(a,"/").concat(o)}return e},l=e=>new Promise((t,r)=>{let a=new Image;a.onload=()=>t(a),a.onerror=()=>r(Error("Failed to load image: ".concat(e))),a.src=e}),c=async e=>Promise.allSettled(e.map(e=>l(e))).then(e=>e.filter(e=>"fulfilled"===e.status).map(e=>e.value)),d=e=>{let t=n(e);return{thumbnail:i(t,100,100,70),small:i(t,300,300,75),medium:i(t,600,600,80),large:i(t,800,800,85),original:t}},u=e=>new Promise(t=>{if(!e){t(!1);return}let r=new Image;r.onload=()=>t(!0),r.onerror=()=>t(!1);try{let t=a(e);r.src=t}catch(e){t(!1)}}),g=async e=>{if(!e)return{valid:!1,error:"No image data provided"};try{if(e.startsWith("http")){let t=await fetch(e,{method:"HEAD"});if(!t.ok)return{valid:!1,error:"Image URL returned status ".concat(t.status)};let r=t.headers.get("content-type");if(!(null==r?void 0:r.startsWith("image/")))return{valid:!1,error:"URL does not point to an image"};return{valid:!0}}if(o(e)){let t=await u(e);return{valid:t,error:t?void 0:"Invalid Base64 image data"}}if(e.startsWith("data:")){let t=await u(e.split(",")[1]||"");return{valid:t,error:t?void 0:"Invalid data URL"}}return{valid:!1,error:"Unsupported image format"}}catch(e){return{valid:!1,error:e instanceof Error?e.message:"Unknown error"}}}}}]);